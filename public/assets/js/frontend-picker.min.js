jQuery(document).ready((function(){if(!(!vk_adnetwork.supports_localstorage()||!localStorage.getItem("vk_adnetwork_frontend_picker")||window.vk_adnetwork_options.blog_id&&localStorage.getItem("vk_adnetwork_frontend_blog_id")&&window.vk_adnetwork_options.blog_id!==localStorage.getItem("vk_adnetwork_frontend_blog_id")||localStorage.getItem("vk_adnetwork_frontend_starttime")&&parseInt(localStorage.getItem("vk_adnetwork_frontend_starttime"),10)<(new Date).getTime()-27e5&&(localStorage.removeItem("vk_adnetwork_frontend_action"),localStorage.removeItem("vk_adnetwork_frontend_element"),localStorage.removeItem("vk_adnetwork_frontend_picker"),localStorage.removeItem("vk_adnetwork_prev_url"),localStorage.removeItem("vk_adnetwork_frontend_pathtype"),localStorage.removeItem("vk_adnetwork_frontend_boundary"),localStorage.removeItem("vk_adnetwork_frontend_blog_id"),localStorage.removeItem("vk_adnetwork_frontend_starttime"),vk_adnetwork.set_cookie("vk_adnetwork_frontend_picker","",-1),1))){var e,t=jQuery("<div id='vk_adnetwork-picker-overlay'>"),a=[document.body,document.documentElement,document];if(t.css({position:"absolute",border:"solid 2px #428bca",backgroundColor:"rgba(66,139,202,0.5)",boxSizing:"border-box",zIndex:1e6,pointerEvents:"none"}).prependTo("body"),"true"===localStorage.getItem("vk_adnetwork_frontend_boundary")&&jQuery("body").css("cursor","not-allowed"),window.vk_adnetwork.is_boundary_reached=function(e){if("true"!==localStorage.getItem("vk_adnetwork_frontend_boundary"))return!1;$vk_adnetwork_picker_cur=jQuery(e);var t=jQuery(".vk_adnetwork-frontend-picker-boundary-helper");return $boundaries=t.parent(),$boundaries.css("cursor","pointer"),$vk_adnetwork_picker_cur.is($boundaries)||!$vk_adnetwork_picker_cur.closest($boundaries).length},"xpath"===localStorage.getItem("vk_adnetwork_frontend_pathtype"))var r="getXPath";else r="getPath";jQuery(document).mousemove((function(o){if(o.target!==e){if(~a.indexOf(o.target))return e=null,void t.hide();var d=jQuery(o.target),n=d.offset(),i=d.outerWidth(),s=d.outerHeight();e=o.target;var l=jQuery(e)[r]();l&&t.css({top:n.top,left:n.left,width:i,height:s}).show()}})),jQuery(document).click((function(t){var a=jQuery(e)[r]();vk_adnetwork.is_boundary_reached(e)||(localStorage.setItem("vk_adnetwork_frontend_element",a),window.location=localStorage.getItem("vk_adnetwork_prev_url"))}))}})),jQuery.fn.extend({getPath:function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=0),this.is("html"))return"html > "+e;if(3===t)return e;var a=this.get(0).nodeName.toLowerCase(),r=this.attr("id"),o=this.attr("class");return t+=1,void 0===r||/\d/.test(r)?void 0!==o&&(o=o.split(/[\s\n]+/),(o=jQuery.grep(o,(function(e,t){return!/\d/.test(e)}))).length&&(a+="."+o.slice(0,2).join("."))):a+="#"+r,this.siblings(a).length&&(a+=":eq("+this.siblings(a).addBack().not("#vk_adnetwork-picker-overlay").index(this)+")"),""===e?this.parent().getPath(a,t):this.parent().getPath(a+" > "+e,t)},getXPath:function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=0),this.is("body")||3===t)return e;if(vk_adnetwork.is_boundary_reached(this))return e;var a=this.get(0).nodeName.toLowerCase(),r=a,o=this.attr("id"),d=this.attr("class"),n=[];if(void 0!==o&&!/\d/.test(o))return r+'[@id and id="'+o+'"]/'+e;if(void 0!==d&&(d=d.split(/[\s\n]+/),(d=jQuery.grep(d,(function(e,t){return!/\d/.test(e)}))).length)){t+=1;for(var i=[],s=0,l=(n=d.slice(0,2)).length;s<l;s++)i.push('(@class and contains(concat(" ", normalize-space(@class), " "), " '+n[s]+' "))');r+="["+i.join(" and ")+"]"}if(n.length)var c=this.siblings(a+"."+n.join("."));else c=this.siblings(a);c.length&&(r+="["+c.addBack().not("#vk_adnetwork-picker-overlay").index(this)+"]");return""===e?this.parent().getXPath(r,t):this.parent().getXPath(r+"/"+e,t)}});